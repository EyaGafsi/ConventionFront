
<section class="hero-header">
     
  
    <div class="container">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mx-auto mb-3">
            <a  routerLink="/demande"
              class="btn btn-secondary btn-lg">Envoyer demande</a>
          </div>
            <div class="row justify-content-center">
              <div class="col-md-6 text-center mb-5">
                <h2 class=" title">Liste des demandes</h2>
              </div>
            </div>
            <div class="row ">
              <div class="col-sm-1 "><select style="width: auto;font-size: 15px;  height: fit;margin-bottom: 15px;"
                  class="form-select" (change)="changeSize($event)">
        
                  <option selected value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select> </div>
              <div class="col-sm-11">
                <div class="search-box" type="button" (click)="search()">
                  <i   class="fa-solid fa-magnifying-glass"></i>
                  <input type="text" class="form-control"  [(ngModel)]="name" placeholder="Recherche&hellip;">
                </div>
              </div>
            </div>
              <table class="table table-striped table-hover table-bordered">
                  <thead>
                      <tr>
                          <th>nom <i  (click)="trie('nom')" class="fa fa-sort"></i></th>
                          <th> <div class="dropdown">type
                            <i class="fa fa-sort" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            </i>
                        
                            <ul class="dropdown-menu">
                              <li><a class="dropdown-item btn" (click)="trie('médicale et paramedicale')">médicale et paramedicale</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('bien-être')">bien-être</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('sport')">sport</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('service')">service</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('textile')">textile</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('loisir')">loisir</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('gastronomie')">gastronomie</a></li>
                              <li><a class="dropdown-item btn" (click)="trie('electroménager')">electroménager</a></li>
                            </ul>
                          </div></th>
                          <th>telephone </th>
                          <th>email  <i (click)="trie('email')" class="fa fa-sort"></i></th>
                          <th>adresse</th>
                          <th>date d'envoi <i (click)="trie('date')" class="fa fa-sort"></i></th>
                          <th>Status</th>
                          <th>&nbsp;</th>

                      
                      </tr>
                  </thead>
                  <tbody>
                    <tr  class="spacer" scope="row" *ngFor="let demande of demandes">
                      <td> {{demande.nomDemande}}</td>
                      <td>{{demande.typeDemande}}</td>
                      <td>
                        {{demande.telephone}}
                      </td>        <td>
                        {{demande.emailDemande}}
                      </td>
              <td>{{demande.adresseDemande}}</td>
              <td>{{demande.dateEnvoi}}</td>
              <td class="status"><span  [ngClass]="{ 'active': demande.status=='accepté', 'waiting': demande.status=='en attente', 'refuser': demande.status=='refusé'}" >{{demande.status}}</span></td>
      
                          <td class="case">
                              <a class="view"  type="button"><i data-bs-toggle="modal" data-bs-target="#details" class="fa-solid fa-eye " (click)="details(demande)"></i></a>
                              
                          </td>
                      </tr>
                  
                  </tbody>
              </table>
              <div class="clearfix text">
								
								<div class="hint-text"> <b>{{currentPage}}</b> - <b>{{numberOfPages}}</b> 
								</div>
								<ul class="pagination">
									<li class="page-item"><a (click)="goToPreviousPage()" class="page-link"><i
												class="fa fa-angle-double-left"></i></a></li>
									<li class="page-item" [class.active]="currentPage === page"
										*ngFor="let page of generatePageNumbers(numberOfPages);">
										<a class="page-link" (click)="changePage(page)">{{ page }}</a>
									</li>
									<li class="page-item"><a (click)="goToNextPage()" class="page-link"><i
												class="fa fa-angle-double-right"></i></a></li>
								</ul>
							</div>
          </div>
  
  
  
  
  
  
  
  
  
</section>
      
  
  

  
  

<div class="modal fade" id="details" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Convention</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h5 class="modal-title">benificiaire</h5>
        <p>{{conventions.beneficiaireDemande}}</p>
        <h5 class="modal-title" >objectif</h5>
        <p>{{conventions.objectifDemande}}</p>
        <h5 class="modal-title">condition</h5>
        <p>{{conventions.conditionDemande}}</p>
        <h5 class="modal-title" >avantages</h5>
        <ul  *ngFor="let avantage of conventions.demandeAvantages">
          <div class="row">
            <li class="col">  <i class="fas fa-check"></i> {{ avantage.details }}</li>
          </div>
        </ul>
      </div>
    </div>
  </div>
</div>
